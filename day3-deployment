#lets create our first deployment
    85  kubectl create deploy
  # if you need more help 
   88  kubectl create deploy --help
 #generate the skeleton of deployment
   90  kubectl create deploy my-first-deployment --image=nginx --port=80 --dry-run=client -o yaml
   91  kubectl create deploy my-first-deployment --image=nginx --port=80 --dry-run=client -o yaml > dep.yml
   92  kubectl apply -f dep.yml
  #this will show the deployment
   93  kubectl get deploy
   94  kubectl get pod
  #lets delete the pod replace the pod name with your own pod name 
   95  kubectl delete pod my-first-deployment-77bdf869fc-xkdkc
  #a new pod will be autmatically created
   96  kubectl get pod
######################
 100  vi dep.yml
#change the replica to 2
  101  kubectl apply -f dep.yml
##you will see that now the deployment is 2/2
  102  kubectl get deploy
#if you look into the rs which is a combination of deployment+unique hash value generated by k8s
  103  kubectl get rs
##if you look into the pod deploy+rs+unqiuehashvalue
  104  kubectl get pod
#to map both the pod with the deployment metadata.spec.selctor. matchlabel
kubectl get pod --show-labels
#you will see that both the pod will have same labels
 108  kubectl get deploy
#check describe deploy where you can see the strategy event log created two pod 
  109  kubectl describe deploy my-first-deployment
  110  kubectl get pod
#if you desribe one of the pod you will see that the pod is controlled by rs change the pod id with your id
  111  kubectl describe pod my-first-deployment-77bdf869fc-d9ckz
#####if you want to check where this pod is running
kubectl get pod -o wide
##may be the pod is running in the same node or different node.
#below is the deployment manifest explanation
#kubectl apply -f dep.yml
apiVersion: apps/v1 #version of the api
kind: Deployment #kind we are creating deployment
metadata: 
  creationTimestamp: null
  labels:
    app: my-first-deployment
  name: my-first-deployment
spec: #we are defining the spec of the deployment
  replicas: 2
  selector: #selector is used to select the pods that are created by this deployment
    matchLabels: 
      app: my-first-deployment #all the pod will be labeled with this label
  strategy: {}
  template: #this template need to be applied with both the pod 
    metadata:
      creationTimestamp: null
      labels: #same label as above
        app: my-first-deployment
    spec: #in template spec we are defining the container
      containers:
      - image: nginx
        name: nginx
        ports:
        - containerPort: 80
        resources: {}
status: {}

